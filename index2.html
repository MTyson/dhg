<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="js/jquery-ui-1.10.4.custom/js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.10.4.custom/js/jquery-ui-1.10.4.custom.js"></script>
<!--<script type="text/javascript" src="js/jcanvas14.3.js"></script>-->
<link rel="stylesheet" href="js/jquery-ui-1.10.4.custom/css/smoothness/jquery-ui-1.10.4.custom.min.css"></link>

<script type="text/javascript" src="js/jQuery.jPlayer.2.5.0/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="js/jQuery.jPlayer.2.5.0/add-on/jplayer.playlist.min.js"></script>
<link type="text/css" href="css/blue.monday/jplayer.blue.monday.css" rel="stylesheet" />

<!--
<link href="js/video-js/video-js.css" rel="stylesheet">
<script src="js/video-js/video.js"></script>

<script>
  videojs.options.flash.swf = "js/video-js/video-js.swf"
</script>
-->
<style type="text/css">
div.jp-audio,
div.jp-video {
  /* Edit the font-size to counteract inherited font sizing.
   * Eg. 1.25em = 1 / 0.8em
   */
  font-size:1.25em;
}

html{
    /* This image will be displayed fullscreen */
    /*background:url('backgrounds/image1.jpg') no-repeat center center;*/
	background-color: black;

    /* Ensure the html element always takes up the full height of the browser window */
    min-height:100%;
	height: 100%;

    /* The Magic */
    background-size:cover;
	padding: 0px 0px 0px 0px;
	margins: 0px 0px 0px 0px;
}
body{
    /* Workaround for some mobile browsers */
    min-height:100%;
	height: 100%;
	display: -webkit-box;      /* OLD - iOS 6-, Safari 3.1-6 */
	  display: -moz-box;         /* OLD - Firefox 19- (buggy but mostly works) */
	  display: -ms-flexbox;      /* TWEENER - IE 10 */
	  display: -webkit-flex;     /* NEW - Chrome */
	  display: flex;
	align-items: center; 
	justify-content: center;
	padding: 0px 0px 0px 0px;
	margin: 0px 0px 0px 0px;
}
#bottom-bar {
    position: fixed;
    z-index: 100; 
    bottom: 0; 
    left: 0;
    width: 100%;
	height: 35px;
	background-color: black;
	color: white;
	text-align: center;
}
span#bottom-menu {
	font-family: arial;
	font-size: 10px;
	height: 5px;
}
span.bottom-item {
	padding-right: 5px;
	padding-left: 5px;
	height: 5;
	cursor: pointer;
}
span.bottom-item.divider{
	border-style: none;
	border-width: 0px;
	border-right: 1px solid white;
}
span.bottom-item.selected{
	background-color: red;
}
.intro {
	position: absolute;
	display: none;
}
.intro-wrap {
    position: relative;
}
.intro-wrap img {
    position: absolute;
    height: 100px;
    width: 75px;
    clip: rect(0 75px 100px 0);
    -webkit-transition: clip 2s;
    transition: clip 2s;
}
div.blind {
	/* This image will be displayed fullscreen */
    background:url('backgrounds/image1.jpg') no-repeat center center;

    /* Ensure the html element always takes up the full height of the browser window */
    min-width:100%;

    /* The Magic */
    background-size:cover;
}
.bg-div {
	/* Ensure the html element always takes up the full height of the browser window */
	height: 100%;

    /* The Magic */
    background-size:cover;
	padding: 0px 0px 0px 0px;
	margins: 0px 0px 0px 0px;
	
	display: -webkit-box;      /* OLD - iOS 6-, Safari 3.1-6 */
	  display: -moz-box;         /* OLD - Firefox 19- (buggy but mostly works) */
	  display: -ms-flexbox;      /* TWEENER - IE 10 */
	  display: -webkit-flex;     /* NEW - Chrome */
	  display: flex;

	
	-webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
	
	align-items: center; 
	justify-content: center;
	
	position: absolute;
	
	background:url('backgrounds/image1.jpg') no-repeat center center;
}
.content-wrap {
	width: 770px;
	display: flex;
	flex-wrap: wrap;
	align-items: center; 
	justify-content: center;
}
.content-box {
	display: none;
	position: relative;
	background-color: black; 
	width: 270px; 
	height: 340px; 
	margin-right: 5px; margin-top: 10px;
	border-radius: 7px;
	/*opacity: 0.70;*/
	/*
	background-image: linear-gradient(bottom, #444444 50%, #000000 50%);
	background-image: -o-linear-gradient(bottom, #444444 50%, #000000 50%);
	background-image: -moz-linear-gradient(bottom, #444444 50%, #000000 50%);
	background-image: -webkit-linear-gradient(bottom, #444444 50%, #000000 50%);
	background-image: -ms-linear-gradient(bottom, #444444 50%, #000000 50%);
	*/
	background-color: rgba(0,0,0,.5);
}
.content-box div.img-wrap {
	display: inline-block;
    overflow: hidden;
	height: 160px;
	width: 260px;
	margin: 5px;
}
.content-box img {
	display: none;
	opacity: 1.0;
}
.content-box img:hover {
	-webkit-transition: all .2s ease;
    -moz-transition: all .2s ease;
    -ms-transition: all .2s ease;
    -o-transition: all .2s ease;
    transition: all .2s ease;
	
    transform:scale(1.3);
    -ms-transform:scale(1.3); /* IE 9 */
    -moz-transform:scale(1.3); /* Firefox */
    -webkit-transform:scale(1.3); /* Safari and Chrome */
    -o-transform:scale(1.3); /* Opera */
}
.content-box p.title {
	font-family: Arial, Helvetica, sans-serif;
	color: white;
	margin: 5px 5px 5px 5px;
	font-size: 16px;
}
.content-box p.subtitle {
	font-family: Arial, Helvetica, sans-serif;
	color: #00cccc;
	margin: 5px 5px 5px 8px;
	font-size: 10px;
}
.content-box p.summary {
	font-family: Arial, Helvetica, sans-serif;
	color: white;
	margin: 7px 7px 5px 10px;
	font-weight: 11px;
}
.content-box div.content {
	font-family: Arial, Helvetica, sans-serif;
	color: white;
	margin: 7px 7px 5px 10px;
	font-weight: 11px;
	height: 120px;
	overflow-y: auto;
	display: none;
}
.content-box .button {
	position: absolute;
	left: 10px;
	bottom: 10px;
	width: 120px;
	height: 30px;
	background-color: rgba(120,120,120,.5);
	border-radius: 5px;
	font-family: Arial, Helvetica, sans-serif;
	border: solid #777777 1px;
	color: white;
	font-size: 9px;
	text-align: center;
	vertical-align: middle; 
	line-height: 30px;
	cursor: pointer;
}
.content-box .button:hover {
    -webkit-box-shadow: inset 0 0 30px #dddddd;
    -moz-box-shadow: inset 0 0 30px #dddddd;
    box-shadow: inset 0 0 30px #dddddd;
}
.content-box.small {
	width: 210px; height: 190px;
}
.content-box.small .button{
	right: 10px;
	left: auto;
}
.button.hidden {
	display: none;
}
div#contact {
	color: white;
	font-family: Arial, Helvetica, sans-serif;
}
div#contact div.content-box {
	height: 400px; width: 500px;
}
div#contact {
	text-align: center;
}
div#contact .content-box {
	padding: 50px;
}
div#contact div.content-box input, div#contact div.content-box textarea {
	background-color: rgba(100,100,100,.5);
	border: 0px;
	color: white;
	height: 25px;
	width: 300px;
	margin-top: 3px;
}
div#contact div.content-box textarea {
	height: 130px;
	margin-bottom: 20px;
}
div#contact div.content-box .button {
	position: static;
	display: inline-block;
}
div.contact-footer {
	margin-top: 20px;
	text-align: left;
	font-family: Arial, Helvetica, sans-serif;
}
.content-box .top {
	
}

.content-arrow {
	width: 40px;
	height: 40px;
	background-color: rgba(100,100,100,.5);
	text-align: center;	
	font-size: 35px;
	font-family: Arial, Helvetica, sans-serif;
	color: #999999;
	border: solid #888888 1px;
	cursor: pointer;
}

/* slider */
.ui-slider-handle.ui-state-default.ui-corner-all {
 height: 15px;
}

div#spinner {
    display: none;
    width:50px;
    height: 50px;
    position: fixed;
    top: 50%;
    left: 50%;
    background:url(images/loading.gif) no-repeat center transparent;
    text-align:center;
    padding:10px;
    font:normal 16px Tahoma, Geneva, sans-serif;
    border:0px solid #666;
    margin-left: -25px;
    margin-top: -25px;
    z-index:2;
    overflow: hidden;
}
</style>
<script>
/*
* jquery.animate.clip.js
*
* jQuery css clip animation support -- Joshua Poehls
* version 0.1.4

* forked from Jim Palmer's plugin http://www.overset.com/2008/08/07/jquery-css-clip-animation-plugin/
* idea spawned from jquery.color.js by John Resig
* Released under the MIT license.
*/
(function (jQuery) {

    function getStyle(elem, name) {
        return (elem.currentStyle && elem.currentStyle[name]) || elem.style[name];
    }

    function getClip(elem) {
        var cssClip = $(elem).css('clip') || '';

        if (!cssClip) {
            // Try to get the clip rect another way for IE8.
            // This is a workaround for jQuery's css('clip') returning undefined
            // when the clip is defined in an external stylesheet in IE8. -JPOEHLS
            var pieces = {
                top: getStyle(elem, 'clipTop'),
                right: getStyle(elem, 'clipRight'),
                bottom: getStyle(elem, 'clipBottom'),
                left: getStyle(elem, 'clipLeft')
            };

            if (pieces.top && pieces.right && pieces.bottom && pieces.left) {
                cssClip = 'rect(' + pieces.top + ' ' + pieces.right + ' ' + pieces.bottom + ' ' + pieces.left + ')';
            }
        }

        // Strip commas and return.
        return cssClip.replace(/,/g, ' ');
    }

    jQuery.fx.step.clip = function (fx) {
        if (fx.pos === 0) {
            var cRE = /rect\(([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)\)/;

            fx.start = cRE.exec(getClip(fx.elem));
            if (typeof fx.end === 'string') {
                fx.end = cRE.exec(fx.end.replace(/,/g, ' '));
            }
        }
        if (fx.start && fx.end) {
            var sarr = new Array(), earr = new Array(), spos = fx.start.length, epos = fx.end.length,
                emOffset = fx.start[ss + 1] == 'em' ? (parseInt($(fx.elem).css('fontSize')) * 1.333 * parseInt(fx.start[ss])) : 1;
            for (var ss = 1; ss < spos; ss += 2) { sarr.push(parseInt(emOffset * fx.start[ss])); }
            for (var es = 1; es < epos; es += 2) { earr.push(parseInt(emOffset * fx.end[es])); }
            fx.elem.style.clip = 'rect(' +
                parseInt((fx.pos * (earr[0] - sarr[0])) + sarr[0]) + 'px ' +
                parseInt((fx.pos * (earr[1] - sarr[1])) + sarr[1]) + 'px ' +
                parseInt((fx.pos * (earr[2] - sarr[2])) + sarr[2]) + 'px ' +
                parseInt((fx.pos * (earr[3] - sarr[3])) + sarr[3]) + 'px)';
        }
    }
})(jQuery);
jQuery.fn.center = function(parent) {
    if (parent) {
        parent = this.parent();
    } else {
        parent = window;
    }
    this.css({
        "position": "absolute",
        "top": ((($(parent).height() - this.outerHeight()) / 2) + $(parent).scrollTop() + "px"),
        "left": ((($(parent).width() - this.outerWidth()) / 2) + $(parent).scrollLeft() + "px")
    });
	return this;
}

$.fn.resize = function( w, h, speed, easing ) {
  w = ( undefined !== w ? w : 50 );
  h = ( undefined !== h ? h : 50 );
  
  var cw = this.width();
  var ch = this.height();

  if ( 'static' === this.css( 'position' ) ) {
    this.css( {
      'position'    : 'relative',
      'top'         : '0px',
      'left'        : '0px'
    } );
  }
  
  this.stop().width( cw ).height( ch ).animate( {
    'top'    : '+=' + ( (ch - h) / 2 ) + 'px',
    'left'   : '+=' + ( (cw - w) / 2 ) + 'px',
    'width'  : w + 'px',
    'height' : h + 'px'
  }, speed, easing);
};

var App = {
	spinnerVisible: false,
    showProgress: function() {
		console.info("BEGIN showProgress");
        if (!this.spinnerVisible) {
            $("div#spinner").fadeIn("fast");
			this.spinnerVisible = true;
        }
    },
    hideProgress: function() {
        if (this.spinnerVisible) {
            var spinner = $("div#spinner");
            spinner.stop();
            spinner.fadeOut("fast");
            this.spinnerVisible = false;
        }
    },
	pageTransition: function(){
		var viewW = $(window).width(),
			viewH = $(window).height();
		var topDiv = $("<div />", {
			css: {
				position: "absolute",
				top: 0,
				left: 0,
				//width: viewW,
				height: "0px",
				backgroundColor: "black"
			}	
		}).addClass('blind'),
			bottomDiv = $("<div />", {
			css: {
				position: "absolute",
				top: viewH + "px",
				left: 0,
				//width: viewW,
				height: "0px",
				background: "url('backgrounds/image1.jpg') no-repeat center center"
			}
		}).addClass('blind');

		topDiv.appendTo($('body'));
		bottomDiv.appendTo($('body'));
		
		topDiv.animate({
			height: (viewH / 2) + "px"
		}, 2000, "easeOutCirc");
		
		bottomDiv.animate({
			top: (viewH / 2) + "px",
			height: (viewH / 2)
		}, 2000, "easeOutCirc");
		
	},
	openBlinds: function(op){
		/**
		 * @param op: "open" | "full"
		 */
		var viewW = $(window).width(),
			viewH = $(window).height();
		var topDiv = $("<div />", {
			css: {
				position: "absolute",
				top: 0,
				left: 1,
				width: viewW - 1,
				height: (viewH / 2) + "px",
				backgroundColor: "black"
			}	
		}),
			bottomDiv = $("<div />", {
			css: {
				position: "absolute",
				top: (viewH / 2) + "px",
				left: 1,
				width: viewW - 1,
				height: (viewH / 2) + "px",
				backgroundColor: "black"
			}
		});

		topDiv.appendTo($('body'));
		bottomDiv.appendTo($('body'));
		
		App.hideProgress();
		
		topDiv.animate({
			height: "0px"
		}, 1000, "easeInOutQuint", function(){ topDiv.remove(); });
		
		return bottomDiv.animate({
			top: (viewH - 1),
			height: 1
		}, 1000, "easeInOutQuint").promise().then( function(){
			bottomDiv.remove(); 
		}).promise();
	},
	navigate: function(target){	
		// close existing content
		// check for intro, close if present
		
		if ($('.intro').length > 0){
			$('.intro').css("clip", "rect(0px 705px 310px 0px)"); // TODO: Calculate the sizes from actual object
			$('.intro').animate({'clip':'rect(100px 705px 100px 0px)'}, 1000, "easeOutQuart").promise().then(function(){
				App.showProgress();
				$('.intro').remove();
				App.openPage(target);
			});
		} else {
			//$('.bg-div').hide("clip", {direction: "vertical"}, 1700, "easeOutQuart").promise().then(function(){
			var viewH = $(window).height();
			$('.bg-div').animate({
				top: (viewH / 2),
				height: 0
			}, 1700, "easeOutQuart").promise().then(function(){
				App.showProgress();
				App.openPage(target);
			});
		}
	},
	openPage: function(target){
		var viewW = $(window).width(),
			viewH = $(window).height();
		
		$('#bg-div').remove();
		
		//set background
		var page = Pages[target.toLowerCase()];
		
		// ensure image is loaded before display 
		var bgPreLoader = $('#bg-img-'+page.id);
		console.info('#bg-img-'+page.id);
		if (bgPreLoader.length > 0){
			page.open();
		} else {
			$('body').append("<img src='"+page.bg+"' id='bg-img-"+page.id+"' style='opacity: 0; display: none;'/> ");
			$("#bg-img-"+page.id).load(function() {
				page.open();
			});
		}
	},
	openContent: function(contentId){
		$(".content-arrow").hide(800);
		$(".content-box:not(#"+contentId+")").hide(800);
		var box = $('#'+contentId);
		$(".content-box:not(#"+contentId+")").hide("drop", {direction:'down'}, 800, "easeOutQuart");
		box.animate({
			width: 420,
			height: box.hasClass('small') ? (240 + 40) : ((230 + 230) + 10)
		}).promise().then(function(){
			box.find('.img-wrap, img, video').animate({
				width: 410,
				height: 230
			})	
			box.find('.summary').hide().promise().then(function(){
				box.find('.content').show("blind", {direction: "vertical"},1000);
			})
			var btn = box.find('.button');
			btn.show();
			btn.html('BACK').off('click').on('click', function(e){
				$(".content-arrow").show(800);
				$(this).off('click').on('click', function(e){
					$(this).off('click');
					App.openContent($(e.target).parent().prop("id"));
				});
				box.animate({
					width: box.hasClass('small') ? 210 : 270, //width: 210px; height: 190px;
					height: box.hasClass('small') ? 190 : 340
				}).promise().then(function(){
					box.find('.summary').show("blind", {direction: "vertical"},1000);
					$(".content-box.visible:not(#"+contentId+")").show(800);
				})
				box.find('.img-wrap, img, video').animate({
					width: box.hasClass('small') ? 200 : 260,
					height: box.hasClass('small') ? 140 : 160
				})
				
				if (box.find('video').length > 0){
					box.find('video').get(0).pause();
				}
				box.find('.content').hide();
				if ($(this).hasClass('hidden')){
					$(this).hide();
				}
				$(this).html("READ MORE");
			});
		})	
		
	},
	intro: function(initial){
		// TODO: Make all transitions consistent
		$('.bg-div').remove();
		
		var runAnimation = function(){			
			/*
			var bgDiv = $('<div />').css({
				postion:'absolute',
				padding: "0px 0px 0px 0px",
				margin: "0px 0px 0px 0px",
				top: 0, left: 0,
				width: viewW,
				height: viewH,
				background: "url('backgrounds/image1.jpg') no-repeat center center",
				backgroundSize:"cover"
			}).attr('id', 'bg-div').addClass('bg-div');
			*/
			
			var img = $('<img class="intro" id="intro-img" width="500" height="158" style="z-index: -1; opacity: 0;" src="images/SM Logo1024x768.png"></img>');
			$('body').prepend(img);
			$('#intro-img').load(function(){
				var viewW = $(window).width(),
					viewH = $(window).height();
				//bgDiv.prepend(logo);
	
				// logo animation	
				//var canvas = $('.intro');
				var intro = $(this);
				
				intro.css({
					width: viewW / 1.4, height: viewH / 1.6
				}).css({
					top: (viewH / 2) - (intro.outerHeight() / 2) - 75,
					left: (viewW / 2) - (intro.outerWidth() / 2) 
				}).css({
					opacity: 1,
					display: 'block'
				})
				
				/*
				canvas.drawImage({
				  source: 'images/SM-logo.png',
				  x: 0, y: 0,
				  fromCenter: false
				});
				*/
				//canvas.attr('src', 'images/SM Logo1024x768.png');
				//$('canvas.intro').effect( "scale", { percent: 80 }, 700 );
				intro.resize((intro.outerWidth() * .80), (intro.outerHeight() * .60), 2500, "easeOutQuart");
				//canvas.resize(500, 158, 2000, "easeOutQuint");
			})
		}
		if (initial){
			this.openBlinds().then(runAnimation);
		} else {
			runAnimation();
		}
	}
}

// small box: 270x340
// big box: 428x480
// small content images = 260x160 (+5 padding)
// large content images = 410x230 (+ 5 padding all around
var Pages = {
	"intro": {
		id: 1,
		bg: "backgrounds/image1.jpg",
		functions: [
			App.intro.bind(App)
		]
	},
	"home": {
		id: 2,
		bg: "backgrounds/guitar-bg.jpg",
		button: true,
		wrapWidth: 940,
		wrapJustify: "center",
		maxBoxes: 3, smallBoxWidth: 270, smallBoxHeight: 340, thumbWidth: 260, thumbHeight: 160,
		resize: function(){
			var origH = this.smallBoxHeight, origW = this.smallBoxWidth,
				ratio = origH / origW;

			var w = 170;
			var h = w * ratio;

			$('.content-box').animate({
				'width': w,
				'height': h
			})
			var origImgW = this.thumbWidth,
				origImgH = this.thumbHeight,
				imgRatio = origImgW / origImgH;
			$('.content-box .img-wrap, .content-box img').css({
				'width': w-10
				,'height': (w / imgRatio) - 10
			})
		},
		open: function(page){
			var viewW = $(window).width(),
				viewH = $(window).height();
			var bgDiv = $('<div />').css({
				postion:'absolute',
				padding: "0px 0px 0px 0px",
				margin: "0px 0px 0px 0px",
				top: (viewH / 2), left: 0,
				width: viewW,
				height: "0px",
				background: "url('"+page.bg+"') no-repeat center center",
				backgroundSize:"cover"
			}).attr('id', 'bg-div').addClass('bg-div');
					
			$('body').prepend(bgDiv);
			
			App.hideProgress();
			
			$('#bg-div').animate({
				"height": viewH,
				"top": "0px"
			}, 2000, "easeOutQuart").promise().then( function(){
				// make actual background the bg-div, so when we animate the new bg-div, it will be there
				$('html').css({
					background: "url('"+page.bg+"') no-repeat center center",  // url('backgrounds/image1.jpg')
					backgroundSize: "cover"
				})
				
				var contentWrap = $('<div class="content-wrap" />');
				contentWrap.css({
					'width': page.wrapWidth,
					'justify-content': page.wrapJustify
				})
				$('.bg-div').append(contentWrap);
				
				if (page.maxBoxes){
					var arrow = $("<div class='content-arrow'>&lt;</div>");
					arrow.on('click', function(e){
						var edgeVisible = $('.content-box.visible').first(),
							toShow = $('.content-box').eq(Number(edgeVisible.attr('box-count')) - 1);
						if (Number(edgeVisible.attr('box-count')) - 1 >= 0){					
							$('.content-box.visible').last().hide("blind", {direction:"left"}, 600, 'easeOutQuart').removeClass('visible');
							toShow.show("blind", {direction:"left"}, 600, 'easeOutQuart').addClass('visible');
						}
					})
					contentWrap.append(arrow);
				}
				
				if (page.init){
					page.init();
				}

				// set content
				if (page.html){
					contentWrap.html(page.html);
				} else {
					for (x in page.content){
						var box = $("<div />").addClass('content-box').addClass(page.contentClass).prop("id", page.content[x].id).css({
							width: page.smallBoxWidth, height: page.smallBoxHeight
						});
						
						box.attr('box-count', x);
						if (Number(x) === (page.content.length-1)){
							box.attr('box-last', "true");
						}
						
						if (page.content[x].image){
							var img = $("<img />");
							var src = typeof page.content[x].image === 'string' ? page.content[x].image : page.content[x].image.src;
							img.attr("src", src);
							
							var imgWrap = $("<div />").addClass('img-wrap');
							
							if (typeof page.content[x].image === "object"){
								img.css({
									width: page.content[x].image.width,
									height: page.content[x].image.height
								})
								imgWrap.css({
									width: page.content[x].image.width,
									height: page.content[x].image.height
								})
								img.on('click', function(){
									page.content[x].image.onClick($(this).parent().attr('id'));
								})
							}
							
							imgWrap.append(img);
							box.append(imgWrap);
						}
						if (page.content[x].video){
							var imgWrap = $("<div />").addClass('img-wrap');
							imgWrap.css({
								width: page.content[x].video.width,
								height: page.content[x].video.height
							})
							box.append(imgWrap);
							
							var video = $('<video id="example_video_1" class="video-js vjs-default-skin" ' +
							  'controls preload="auto" width="'+page.content[x].video.width+'" height="'+page.content[x].video.height+'" ' +
							  'poster="'+page.content[x].video.thumb+'"> ' +
							  '<source src="'+page.content[x].video.src+'" type="video/webm"/> ' +
							  '<source src="http://video-js.zencoder.com/oceans-clip.webm" type="video/webm" /> ' +
							  '<source src="http://video-js.zencoder.com/oceans-clip.ogv" type="video/ogg" /> ' +
							  '</video>');
							  /*
							var video = $('<video id="my_video_1" class="video-js vjs-default-skin" controls preload="auto" width="'+page.content[x].video.width+'" height="'+page.content[x].video.height+'"></video>');
							player = videojs('my_video_1', {
								techOrder: ['flash', 'html5'],
								autoplay: false,
								sources: [{ 
									type: "video/flv",
									src: "http://www.longtailvideo.com/jw/upload/bunny.flv"
								}]
							});
							*/
							
							imgWrap.append(video);
							
							imgWrap.on('click', function(){
								App.openContent($(this).parent().attr('id'));
							})
						}
						
						if (page.content[x].title)
							box.append("<p class='title'>"+page.content[x].title+"</p>");
						if (page.content[x].subtitle)
							box.append("<p class='subtitle'>"+page.content[x].subtitle+"</p>");
						if (page.content[x].summary)
							box.append("<p class='summary'>"+page.content[x].summary+"</p>");
						if (page.content[x].content)
							box.append("<div class='content'>"+page.content[x].content+"</div>");
						if (page.button){
							var btn = $("<div class='button'>READ MORE</div>");
							if (page.button === "hidden"){
								btn.addClass('hidden');
							}
							btn.on('click', function(e){
								$(this).off('click');
								App.openContent($(e.target).parent().prop("id"));
							});
							box.append(btn);
						}
						
						contentWrap.append(box);
						//$('#bg-div').append(box);					
					}
				}
				
				if (page.maxBoxes){
					var arrow = $("<div class='content-arrow'>&gt;</div>");
					arrow.on('click', function(e){
						var lastVisible = $('.content-box.visible').last(),
							isLast = lastVisible.attr('box-last'),
							lastCount = lastVisible.attr('box-count');
						console.info('lastCount: ' + lastCount);
						if (!isLast){
							$('.content-box.visible').first().hide("blind", {direction:"left"}, 600, 'easeOutQuart').removeClass('visible');
							$('.content-box').eq(new Number(lastCount)+1).show("blind", {direction:"left"}, 600, 'easeOutQuart').addClass('visible');
						}
					})
					contentWrap.append(arrow);
				}
				
				var boxSelector = '.content-box' + (page.contentClass ? "."+page.contentClass : "");
				$(boxSelector).slice(0, page.maxBoxes ? page.maxBoxes : 1000).each(function(x, e){
					$(e).addClass('visible');
				}).effect('fade').promise().then( function(){
					$(boxSelector + ' img').show('blind', {direction:'left'});
				});
				
				if (page.functions){
					for (x in page.functions){
						page.functions[x]();
					}
				}
			})
			/*
			$('html').css({
				background: "url('"+page.bg+"') no-repeat center center",
				minHeight: "100%",
				backgroundSize: "cover"
			});
			*/
			
		},
		content: [
			{ id: "content_sm", image: "images/home/thumb1.jpg", title: "SOUL MASTERY", subtitle: "WAKE ME UP", summary: "A powerful awakening to a renewed level of being", content: "My 21 day Intensive is a powerful awakening to a renewed level of BEING. <br><br>I will lead you through an intense, personal journey in which you will literally transcend your personality, and tap into your soul's purpose and wisdom.  You will radically clear mental, emotional and spiritual blocks that will permanently and powerfully transform the foundations of your everday experience.<br><br>You will look and be younger, feel more alive and frequent experiences of tremendous joy." },
			{ id: "content_sri", image: "images/home/thumb2.jpg", title: "SOUL RENEWAL INTENSIVE", subtitle: "RENEW ME", summary: "The ultimate experience to revitalize your body, mind and soul.", content: "My Soul Renewal Intensive is the Ultimate journey for those of you want to revitalize your body, mind and soul.<br><br> A custom designed program using cutting edge technology, private one-on-one coaching and healing sessions with myself and other professionals I select for your specific needs. This program is for those who feel the need to dramatically alter their path and be a true example and leader in this time of dramatic change.<br><br>You will receive a Shaktipat intitiation which is defined as 'a bestowing of divine grace' that lifts your awareness, your life force and your connection with universal wisdom to a new level.<br><br>You will learn to create ecstatic states of consciousness that enable you to tune into infinte intelligence and caliberate constantly at the frequency of LOVE and even beyond." },
			{ id: "content_el", image: "images/home/thumb3.jpg", title: "ENCHANTED LOVE", subtitle: "POWERFUL REJUVENATION", summary: "Love making at its most sacred creates powerful rejuvenation and deep healing.", content: "Love making at its most sacred creates powerful rejuvenation and deep healing.<br><br>True sacred sexuality is based on a committed, monogamous relationship that empowers and heals both partners on many levels and is a bridge to higher consciousness.<br><br><italic>With each breath, we connect at all levels, so that our loving will be held in a treasured and sacred space. And as we surrender to each other, we offer our ecstasy to the communion of our souls and the Love that has created this place and this moment for us to share.<br><br>We join at the Crown chakra, that our loving may be an offering to our highest Selves, and in honor of our souls' union... we join at the Third eye center, that we may see more clearly how best to love each other... we join at the Throat center, so that we may fully express our deepest selves to each other without fear or hesitation... we merge our hearts, that our oneness and our love may permeate all corners of each of our lives, whether we are near or far... we connect at the Solar plexus center, that our power may be derived from Love and compassion, to radiate to each other always...<br><br>We join at the Sexual center, that our loving and physical union may be the pinnacle of pleasure, and is sustained for longer than either of us could imagine.... we merge at the Root chakra, so that the joy of our union and the ecstasy we share, will be celebrated by those who our love touches.<br><br>When we are joined at all levels, are enveloped in each other atom-to-atom, soul-to-soul, the glow of Love around us fills the room with soft pink-white light and we float beyond time and space...on waves of energy and ecstacy...feeling more loved, more alive than we ever could imagine." },
			{ id: "content_car", image: "images/home/thumb4.jpg", title: "CLEANSE AND RENEW", subtitle: "Cleanse & Detoxify", summary: "Cleanse your body, renew your life.", content: "Today's modern diet often contains 100s of times more chemicals, carcinogens and growth hormones than the diets of our grandparents.  And, as if that's not bad enough, our over-processed food is almost devoid of fiber.  So, we are experiencing a digestive health epidemic that is leading to colon disease, tiredness and many other conditions that people mistakenly attribute to simple aging.<br><br>You will be guided through a cleanse that is high in ORAC.<br><br>ORAC stands for 'Oxygen Radical Absorption Capacity'.  This is simply a measurement of a food's antioxidant power.  When your cells absorb the oxygen molecules from the food and air you take in, those molecules are broken apart, and a destructive particle called a Free Radical is released, tearing holes in the delicate fabric of your DNA.  And damaged DNA can lead to accelerated aging and disease." },
			{ id: "content_ge", image: "images/home/thumb5.jpg", title: "GROUPS AND EVENTS", subtitle: "Discover the power of group energy", summary: "Connect with the forces that inspire, empower and guide you to greater fulfilment.", content: "he power of group energy has been utilized since ancient times...creating and using focused energy of intention with groups is a way to dramatically shift your reality quickly and have the support system neccessary to ground this change into your everyday life.<br><br>  'Connect with the forces that inspire, empower and guide you to greater fulfillment for yourself and for the world.' ...Belinda Deranieri" }
		]
	},
	"inspiration": {
		id: 3,
		bg: "backgrounds/inspiration-bg.jpg",
		contentClass: "small",
		wrapWidth: 750,
		wrapJustify: "left",
		button: "hidden",
		content: [
			{ id: "video-1", title: "Leonardo DiCaprio", video: {src: "media_gallery/video/Leo1.webm", thumb: "media_gallery/video/thumb1.jpg", height: 140, width: 200, onClick: App.openContent } },
			{ id: "video-2", title: "David Hawkins", video: {src: "media_gallery/video/David R Hawkins On Infinite Potentiality.webm", thumb: "media_gallery/video/thumb2.jpg", height: 140, width: 200, onClick: App.openContent } },
			{ id: "video-3", title: "Ramtha", video: {src: "media_gallery/video/Ramtha_Be_Your_Own_Savior.webm", thumb: "media_gallery/video/thumb3.jpg", height: 140, width: 200, onClick: App.openContent } },
			{ id: "video-4", title: "The 11th Hour", video: {src: "media_gallery/video/11th_Hour_Trailer.webm", thumb: "media_gallery/video/11th_hour_thumb.jpg", height: 140, width: 200, onClick: App.openContent } },
			{ id: "video-5", title: "George Harrison", video: {src: "media_gallery/video/George_Harrison_My_Sweet_Lord.webm", thumb: "media_gallery/video/Sweet_Lord_thumb.jpg", height: 140, width: 200, onClick: App.openContent } }
		]
	},
	"contact": {
		id: 4,
		bg: "backgrounds/marmaid-bg.jpg",
		html: "<div id='contact'><div style='text-align: left;'>CONTACT</div>"+
			"<div class='content-box'><form>"+
			"<input id='name' name='name' type='text' placeholder='Name'></input>"+
			"<input id='email' name='email' type='text' placeholder='Email'></input>"+
			"<input id='subject' name='subject' type='text' placeholder='Subject'></input>"+
			"<textarea id='message' name='message' type='text' placeholder='Message'></textarea><br>"+
			//"<button type='reset'>Clear</button><button type='submit'>Send</button>"+
			"<div class='button'>CLEAR</div>"+"<div class='button'>SEND</div>"+
			"<br><div class='contact-footer'>You can reach me at the following:<br>Phone: 800-610-1013<br>Email: thebindi@gmail.com</div>"+
			"</form></div>"+
			"</div>"
	}
};

$(document).ready(function () {
	App.showProgress();
	$('body').append("<img src='backgrounds/image1.jpg' id='intro-bg-img' style='opacity: 0; display: none;'/> ");
	$('#intro-bg-img').load(function() {
	//	$(this).css('opacity', 1);
		$('html').css({
			background: "url('backgrounds/image1.jpg') no-repeat center center",  // url('backgrounds/image1.jpg')
			backgroundSize: "cover"
		})
		App.intro(true);
	});
	
	// attach to main menu
	$('.bottom-item').on('click', function(event){
		$('.bottom-item').each(function(x, item){
			$(item).removeClass('selected');
		});
		$(event.target).addClass('selected');
		App.navigate($(event.target).html());
	})

	
	new jPlayerPlaylist({
		jPlayer: "#jquery_jplayer_1",
		cssSelectorAncestor: "#jp_container_1"
	}, [
		{
			artist:"Seal",
			title:"Crazy",
			free:true,
			mp3:encodeURI("playlist/Crazy_Excerpt.mp3"),
			ogg:encodeURI("playlist/Crazy_Excerpt.ogg"),
			poster:"graphics/jplaylister_poster.png"
		},
		{
			artist:"Nickel Back",
			title:"Savin' Me",
			free:true,
			mp3:encodeURI("playlist/Savin_Me.mp3"),
			ogg:encodeURI("playlist/Savin_Me.ogg"),
			poster:"graphics/jplaylister_poster.png"
		},
		{
			artist:"Stevie Wonder",
			title:"Higher Ground",
			free:true,
			mp3:encodeURI("playlist/Higher_Ground_Short.mp3"),
			ogg:encodeURI("playlist/Higher_Ground_Short.ogg"),
			poster:"graphics/jplaylister_poster.png"
		},
		{
			artist:"The Commodores",
			title:"Sweet Love",
			free:true,
			mp3:encodeURI("playlist/Sweet_Love.mp3"),
			ogg:encodeURI("playlist/Sweet_Love.ogg"),
			poster:"graphics/jplaylister_poster.png"
		},
		{
			artist: "Evanescance",
			title:"Bring Me Back To Life",
			free:true,
			mp3:encodeURI("playlist/Bring_Me_to_Life.mp3"),
			ogg:encodeURI("playlist/Bring_Me_to_Life.ogg"),
			poster:"graphics/jplaylister_poster.png"
		}
	], {
		playlistOptions: {
            loopOnPrevious: true
        },
        loop: true,
		swfPath: "js",
		supplied: "mp3, oga, m4v",	
		ready: function(){
			//$("#jquery_jplayer_1").jPlayer('play');
		}
	});

	//$('#jp_container_1').hide();
	$('#playlist-btn').on('click', function(e){
		$('.jp-audio').toggle('slide');
	});
	
	// controller for audio
	$('#sliderVolume').slider({
			value : 50,
			max: 100,
			range: 'min',
			animate: true,
			slide: function(event, ui) {
				var volume = ui.value / 100;
				$("#jquery_jplayer_1").jPlayer("volume", volume);
			}
		});
	});
</script>
</head>
<body>
	<div id="spinner">
    </div>
	<!--<img class="intro" id="intro-img" width="500" height="158" style="z-index: -1; opacity: 0;" src="images/SM Logo1024x768.png"></img>-->
	<div id="bottom-bar">
		<span id="bottom-menu">
			<span class="bottom-item divider selected">INTRO</span>
			<span class="bottom-item divider">HOME</span>
			<span class="bottom-item divider">INSPIRATION</span>
			<span class="bottom-item">CONTACT</span>
		</span>
		<span style='float:right'>
			<span id="sliderVolume" style="width: 100px; height: 8px; display: inline-block;"></span>
			<span id='playlist-btn'><img src="images/playlist-btn.png"></img></span>
		</span>
	</div>
	<div id="transition-container"></div>

	<div id="jquery_jplayer_1" class="jp-jplayer" style="display: none;"></div>
	  <div id="jp_container_1" class="jp-audio" style="display: none;">
		<div class="jp-type-single">
		  <div class="jp-gui jp-interface">
			<ul class="jp-controls">
			  <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
			  <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
			  <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
			  <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
			  <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
			  <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
			</ul>
			<div class="jp-progress">
			  <div class="jp-seek-bar">
				<div class="jp-play-bar"></div>
			  </div>
			</div>
			<div class="jp-volume-bar">
			  <div class="jp-volume-bar-value"></div>
			</div>
			<div class="jp-time-holder">
			  <div class="jp-current-time"></div>
			  <div class="jp-duration"></div>
			  <ul class="jp-toggles">
				<li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
				<li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
			  </ul>
			</div>
		  </div>
		  <!--
		  <div class="jp-title">
			<ul>
			  <li>Seal - Crazy</li>
			  <li>Stevie Wonder - Higher Ground</li>
			  <li>Nickel Back - Savin' Me</li>
			  <li>Evanescance - Bring Me Back to Life</li>
			  <li>Commodores - Sweet Love</li>
			</ul>
		  </div>
		  -->
		  <div class="jp-playlist">
					<ul>
						<!-- The method Playlist.displayPlaylist() uses this unordered list -->
						<li></li>
					</ul>
				</div>
		  <div class="jp-no-solution">
			<span>Update Required</span>
			To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
		  </div>
		</div>
	  </div>
  </body>
</html>
<!--
video page
contact page
music
hashtag handling

-->